<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--

Direitos autorais (Copyright) da versão modificada traduzida para a 
língua portuguesa escrita e falada no Brasil: (c) 2022, 2023 Jamenson 
Ferreira Espindula de Almeida Melo (<jafesp@gmail.com>).

  Este trabalho de tradução do livro "Beyond Linux From Scratch" é 
  classificado pela Free Software Foundation como sendo uma "versão 
  modificada" do mencionado livro.  Em assim sendo, na qualidade de 
  tradutor, produtor da "versão modificada" e titular dos direitos 
  autorais sobre a versão traduzida para a língua portuguesa do livro 
  "Beyond Linux From Scratch", concede-se a seguinte permissão:

  É concedida permissão para copiar, distribuir e (ou) modificar este 
  livro "Beyond Linux From Scratch", versão traduzida para a língua 
  portuguesa, sob os termos da Licença de Documentação Livre GNU, versão 
  1.3 ou qualquer versão posterior publicada pela Free Software 
  Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
  Textos de Quarta Capa.  Uma cópia da licença está incluída na seção 
  intitulada "Licença de Documentação Livre GNU".
  
# Atenção: todos os documentos aqui publicados são distribuídos sem qualquer garantia, implícita e (ou) explícita.
  
  Permission is granted to copy, distribute and (or) modify this book 
  "Beyond Linux From Scratch", translated into Brazilian Portuguese, 
  under the terms of the GNU Free Documentation License, Version 1.3 or 
  any later version published by the Free Software Foundation; with no 
  Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A 
  copy of the license is included in the section entitled "GNU Free 
  Documentation License".

# Warning: all the files herein published are released with no warranty, implicit and (or) explicit.

-->

  <!ENTITY gpgme-download-http "&gnupg-http;/gpgme/gpgme-&gpgme-version;.tar.bz2">
  <!ENTITY gpgme-download-ftp  "&gnupg-ftp;/gpgme/gpgme-&gpgme-version;.tar.bz2">
  <!ENTITY gpgme-download-ftp  " ">
  <!ENTITY gpgme-md5sum        "47eced250be5992da38b6c113f6fe3e7">
  <!ENTITY gpgme-size          "1,7 MB">
  <!ENTITY gpgme-buildsize     "201 MB">
  <!ENTITY gpgme-time          "0,7 UPC (com todas as vinculações, acrescente 1,6 UPC para os testes; tudo com paralelismo=4)">
]>

<sect1 id="gpgme" xreflabel="GPGME-&gpgme-version;">
  <?dbhtml filename="gpgme-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>GPGME-&gpgme-version;</title>

  <indexterm zone="gpgme">
    <primary sortas="a-GPGME">GPGME</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introdução ao GPGME</title>

    <para>

      O pacote <application>GPGME</application> é uma biblioteca C que 
      permite que o suporte a criptografia seja adicionada a um 
      aplicativo.  Ela é projetada para tornar o acesso a engenhos de 
      criptografia de chave pública como o 
      <application>GnuPG</application> ou o GpgSM mais fácil para os 
      aplicativos.  O <application>GPGME</application> fornece uma API 
      de criptografia de alto nível para encriptação, desencriptação, 
      assinatura, verificação de assinatura e gerenciamento de chave.

    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informação do Pacote</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Transferência (HTTP): <ulink url="&gpgme-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Transferência (FTP): <ulink url="&gpgme-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Soma de verificação MD5 da transferência: &gpgme-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Tamanho da transferência: &gpgme-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Espaço em disco estimado exigido: &gpgme-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Tempo de construção estimado: &gpgme-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependências do GPGME</bridgehead>

    <bridgehead renderas="sect4">Exigidas</bridgehead>
    <para role="required">
      <xref linkend="libassuan"/>
    </para>

    <bridgehead renderas="sect4">Opcionais</bridgehead>
    <para role="optional">
      <xref linkend="doxygen"/> e
      <xref linkend="graphviz"/> (para a documentação da API),
      <xref linkend="gnupg2"/> (exigido se o Qt ou o SWIG estiverem instalados;
        usados durante a suíte de teste),
      <xref linkend="clisp"/>,<!--
o gpgme ainda pode usar o python 2.7, porém consegue usar o python3 também,
de forma que não se anuncia o python2
      <xref linkend="python2"/>,-->
      <xref linkend="qt5"/>, e (ou)
      <xref linkend="swig"/> (para vinculações de idioma)
    </para>

    <para condition="html" role="usernotes">Observações de Usuário(a):
      <ulink url="&blfs-wiki;/gpgme"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Instalação do GPGME</title>

    <para>

      Primeiro, corrija um problema ao construir o pacote com o 
      Glibc-2.34 ou posterior:

    </para>

<screen><userinput remap="pre">sed 's/defined(__sun.*$/1/' -i src/posix-io.c</userinput></screen>

    <para>

      Próximo, corrija um problema ao construir com o Python 3.10 
      instalado:

    </para>

<screen><userinput remap="pre">sed -e 's/3\.9/3.10/'                    \
    -e 's/:3/:4/'                        \
    -e '23653 s/distutils"/setuptools"/' \
    -i configure</userinput></screen>

    <para>

      Instale o <application>GPGME</application> executando os seguintes 
      comandos:

    </para>

<screen><userinput>./configure --prefix=/usr --disable-gpg-test &amp;&amp;
make</userinput></screen>

    <para>

      Para testar os resultados, você deveria ter o
<xref linkend="gnupg2"/> instalado e remover o 
      <command>--disable-gpg-test</command> acima.  Emita:
<command>make -k check</command>.

    </para>

    <para>

      Agora, como o(a) usuário(a)
<systemitem class="username">root</systemitem>:

    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explicações do Comando</title>

    <para>

      <parameter>--disable-gpg-test</parameter>: se esse parâmetro não 
      for passado para o configure, [então] os aplicativos de teste são 
      construídos durante o estágio <command>make</command>, o que exige 
      o <xref linkend="gnupg2"/>.  Esse parâmetro não é necessário se o 
      <xref linkend="gnupg2"/> estiver instalado.

    </para>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Installed Program</segtitle>
      <segtitle>Installed Libraries</segtitle>
      <segtitle>Installed Directory</segtitle>

      <seglistitem>
        <seg>
          gpgme-config, gpgme-json, and gpgme-tool
        </seg>
        <seg>
          libgpgme, libgpgmepp.so, and libqgpgme.so
        </seg>
        <seg>
          /usr/include/{gpgme++,qgpgme,QGpgME},
          /usr/lib/cmake/{Gpgmepp,QGpgme}.
          /usr/lib/python{2.7,3.9}/site-packages/gpg, and
          /usr/share/common-lisp/source/gpgme
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="gpgme-config">
        <term><command>gpgme-config</command></term>
        <listitem>
          <para>
            is used to obtain <application>GPGME</application> compilation and
            linking information
          </para>
          <indexterm zone="gpgme gpgme-config">
            <primary sortas="b-gpgme-config">gpgme-config</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgme-json">
        <term><command>gpgme-json</command></term>
        <listitem>
          <para>
            outputs <application>GPGME</application> commands in JSON format
          </para>
          <indexterm zone="gpgme gpgme-json">
            <primary sortas="b-gpgme-json">gpgme-json</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gpgme-tool">
        <term><command>gpgme-tool</command></term>
        <listitem>
          <para>
            is an assuan server exposing <application>GPGME</application>
            operations, such as printing fingerprints and keyids with
            keyservers
          </para>
          <indexterm zone="gpgme gpgme-tool">
            <primary sortas="b-gpgme-tool">gpgme-tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <!-- As of 1.13.1, this library isn't present anymore.
      <varlistentry id="libgpgme-pthread">
        <term><filename class="libraryfile">libgpgme-pthread.so</filename></term>
        <listitem>
          <para>
            contains the <application>GPGME</application> API functions for
            applications using pthread.
          </para>
          <indexterm zone="gpgme libgpgme-pthread">
            <primary sortas="c-libgpgme-pthread">libgpgme-pthread.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>
      -->

      <varlistentry id="libgpgme">
        <term><filename class="libraryfile">libgpgme.so</filename></term>
        <listitem>
          <para>
            contains the <application>GPGME</application> API functions
          </para>
          <indexterm zone="gpgme libgpgme">
            <primary sortas="c-libgpgme">libgpgme.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgpgmepp">
        <term><filename class="libraryfile">libgpgmepp.so</filename></term>
        <listitem>
          <para>
            contains the C++ <application>GPGME</application> API functions
          </para>
          <indexterm zone="gpgme libgpgmepp">
            <primary sortas="c-libgpgmepp">libgpgmepp.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libqgpgme">
        <term><filename class="libraryfile">libqgpgme.so</filename></term>
        <listitem>
          <para>
            contains API functions for handling GPG operations in
            <application>Qt</application> applications
          </para>
          <indexterm zone="gpgme libqgpgme">
            <primary sortas="c-libqgpgme">libqgpgme.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
