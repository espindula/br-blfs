<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--

Direitos autorais (Copyright) da versão modificada traduzida para a 
língua portuguesa escrita e falada no Brasil: (c) 2022, 2023 Jamenson 
Ferreira Espindula de Almeida Melo (<jafesp@gmail.com>).

  Este trabalho de tradução do livro "Beyond Linux From Scratch" é 
  classificado pela Free Software Foundation como sendo uma "versão 
  modificada" do mencionado livro.  Em assim sendo, na qualidade de 
  tradutor, produtor da "versão modificada" e titular dos direitos 
  autorais sobre a versão traduzida para a língua portuguesa do livro 
  "Beyond Linux From Scratch", concede-se a seguinte permissão:

  É concedida permissão para copiar, distribuir e (ou) modificar este 
  livro "Beyond Linux From Scratch", versão traduzida para a língua 
  portuguesa, sob os termos da Licença de Documentação Livre GNU, versão 
  1.3 ou qualquer versão posterior publicada pela Free Software 
  Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
  Textos de Quarta Capa.  Uma cópia da licença está incluída na seção 
  intitulada "Licença de Documentação Livre GNU".
  
# Atenção: todos os documentos aqui publicados são distribuídos sem qualquer garantia, implícita e (ou) explícita.
  
  Permission is granted to copy, distribute and (or) modify this book 
  "Beyond Linux From Scratch", translated into Brazilian Portuguese, 
  under the terms of the GNU Free Documentation License, Version 1.3 or 
  any later version published by the Free Software Foundation; with no 
  Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A 
  copy of the license is included in the section entitled "GNU Free 
  Documentation License".

# Warning: all the files herein published are released with no warranty, implicit and (or) explicit.

-->

  <!ENTITY libpwquality-download-http "https://github.com/libpwquality/libpwquality/releases/download/libpwquality-&libpwquality-version;/libpwquality-&libpwquality-version;.tar.bz2">
  <!ENTITY libpwquality-download-ftp  " ">
  <!ENTITY libpwquality-md5sum        "1fe43f6641dbf1e1766e2a02cf68a9c3">
  <!ENTITY libpwquality-size          "420 KB">
  <!ENTITY libpwquality-buildsize     "4,1 MB">
  <!ENTITY libpwquality-time          "menos que 0,1 UPC">
]>

<sect1 id="libpwquality" xreflabel="libpwquality-&libpwquality-version;">
  <?dbhtml filename="libpwquality-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>libpwquality-&libpwquality-version;</title>

  <indexterm zone="libpwquality">
    <primary sortas="a-libpwquality">libpwquality</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introdução à libpwquality</title>

    <para>

      O pacote <application>libpwquality</application> fornece funções 
      comuns para verificação da qualidade de senha e também pontuá-la 
      baseado na aparente aleatoriedade dela.  A biblioteca também 
      fornece uma função para gerar senhas aleatórias com boa 
      pronunciabilidade.

    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informação do Pacote</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Transferência (HTTP): <ulink url="&libpwquality-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Transferência (FTP): <ulink url="&libpwquality-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Soma de verificação MD5 da transferência: &libpwquality-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Tamanho da transferência: &libpwquality-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Espaço em disco estimado exigido: &libpwquality-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Tempo de construção estimado: &libpwquality-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependências da libpwquality</bridgehead>

    <bridgehead renderas="sect4">Exigidas</bridgehead>
    <para role="required">
      <xref linkend="cracklib"/>
    </para>

    <bridgehead renderas="sect4">Recomendadas</bridgehead>
    <para role="recommended">
      <xref linkend="linux-pam"/>
    </para>

<!-- Não anuncie python 2 dado que python 3 pode ser usado
    <bridgehead renderas="sect4">Optional</bridgehead>
    <para role="optional">
      <xref linkend="python2"/>
    </para>
-->

    <para condition="html" role="usernotes">Observações de Usuário(a):
      <ulink url="&blfs-wiki;/libpwquality"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Instalação da libpwquality</title>

    <para>

      Instale a <application>libpwquality</application> executando os 
      seguintes comandos:

    </para>

<screen><userinput>./configure --prefix=/usr                      \
            --disable-static                   \
            --with-securedir=/usr/lib/security \
            --with-python-binary=python3       &amp;&amp;
make</userinput></screen>

    <para>

      Esse pacote não vem com uma suíte de teste.

    </para>

    <para>

      Agora, como o(a) usuário(a)
<systemitem class="username">root</systemitem>:

    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explicações do Comando</title>

    <para>

      <parameter>--with-python-binary=python3</parameter>: Esse 
      parâmetro dá o local do binário <application>Python</application>.  
      O padrão é <parameter>python</parameter> e exige o
<xref linkend="python2"/>.

    </para>

  </sect2>

  <sect2 role="configuration">
    <title>Configurando a libpwquality</title>

<!--
    <para>

      <application>libpwquality</application> é destinada para ser uma 
      substituta funcional para o módulo 
      <filename>pam_cracklib.so</filename> com opções adicionais.  Para 
      substituir o módulo <filename>pam_cracklib.so</filename> pelo 
      módulo <filename>pam_pwquality.so</filename>, execute os seguintes 
      comandos como o(a) usuário(a)
<systemitem class="username">root</systemitem>:

    </para>
-->

    <para>

      <application>libpwquality</application> é destinada para ser uma 
      substituta funcional para o agora obsoleto módulo PAM 
      <filename>pam_cracklib.so</filename>.  Para configurar o sistema 
      para usar o módulo <filename>pam_pwquality</filename>, execute os 
      seguintes comandos como o(a) usuário(a)
<systemitem class="username">root</systemitem>:

    </para>

<screen role="root"><userinput>mv /etc/pam.d/system-password{,.orig} &amp;&amp;
cat &gt; /etc/pam.d/system-password &lt;&lt; "EOF"
<literal># Início do /etc/pam.d/system-password

# verifique novas senhas quanto à força (man pam_pwquality)
password  required    pam_pwquality.so   authtok_type=UNIX retry=1 difok=1 \
                                         minlen=8 dcredit=0 ucredit=0 \
                                         lcredit=0 ocredit=0 minclass=1 \
                                         maxrepeat=0 maxsequence=0 \
                                         maxclassrepeat=0 geoscheck=0 \
                                         dictcheck=1 usercheck=1 \
                                         enforcing=1 badwords="" \
                                         dictpath=/usr/lib/cracklib/pw_dict
# use o hash sha512 para encriptação; use sombra e use o token de 
# autenticação (senha escolhida) configurada pelo pam_pwquality acima 
# (ou quaisquer módulos anteriores)
password  required    pam_unix.so        sha512 shadow use_authtok

# Fim do /etc/pam.d/system-password</literal>
EOF
</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title>Conteúdo</title>

    <segmentedlist>
      <segtitle>Aplicativos Instalados</segtitle>
      <segtitle>Bibliotecas Instaladas</segtitle>
      <segtitle>Diretórios Instalados</segtitle>

      <seglistitem>
        <seg>
          pwscore e pwmake
        </seg>
        <seg>
          pam_pwquality.so e libpwquality.so
        </seg>
        <seg>
          Nenhum
          <!-- /etc/security foi instalado por Linux-PAM -->
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descrições Curtas</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="pwmake">
        <term><command>pwmake</command></term>
        <listitem>

          <para>

            é uma ferramenta configurável simples para gerar senhas 
            aleatórias e relativa e facilmente pronunciáveis

          </para>

          <indexterm zone="libpwquality pwmake">
            <primary sortas="b-pwmake">pwmake</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pwscore">
        <term><command>pwscore</command></term>
        <listitem>

          <para>

            é uma ferramenta simples para verificar a qualidade de uma 
            senha

          </para>

          <indexterm zone="libpwquality pwscore">
            <primary sortas="b-pwscore">pwscore</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libpwquality-lib">
        <term><filename class="libraryfile">libpwquality.so</filename></term>
        <listitem>

          <para>

            contém funções da API para verificar a qualidade da senha

          </para>

          <indexterm zone="libpwquality libpwquality-lib">
            <primary sortas="c-libpwquality">libpwquality.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="pam_pwquality">
        <term><filename class="libraryfile">pam_pwquality.so</filename></term>
        <listitem>

          <para>

            é um módulo <application>Linux PAM</application> usado para 
            realizar verificação da qualidade da senha

          </para>

          <indexterm zone="libpwquality pam_pwquality">
            <primary sortas="c-pam_pwquality">pam_pwquality.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
