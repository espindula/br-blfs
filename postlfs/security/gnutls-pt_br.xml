<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--

Direitos autorais (Copyright) da versão modificada traduzida para a 
língua portuguesa escrita e falada no Brasil: (c) 2022, 2023 Jamenson 
Ferreira Espindula de Almeida Melo (<jafesp@gmail.com>).

  Este trabalho de tradução do livro "Beyond Linux From Scratch" é 
  classificado pela Free Software Foundation como sendo uma "versão 
  modificada" do mencionado livro.  Em assim sendo, na qualidade de 
  tradutor, produtor da "versão modificada" e titular dos direitos 
  autorais sobre a versão traduzida para a língua portuguesa do livro 
  "Beyond Linux From Scratch", concede-se a seguinte permissão:

  É concedida permissão para copiar, distribuir e (ou) modificar este 
  livro "Beyond Linux From Scratch", versão traduzida para a língua 
  portuguesa, sob os termos da Licença de Documentação Livre GNU, versão 
  1.3 ou qualquer versão posterior publicada pela Free Software 
  Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
  Textos de Quarta Capa.  Uma cópia da licença está incluída na seção 
  intitulada "Licença de Documentação Livre GNU".
  
# Atenção: todos os documentos aqui publicados são distribuídos sem qualquer garantia, implícita e (ou) explícita.
  
  Permission is granted to copy, distribute and (or) modify this book 
  "Beyond Linux From Scratch", translated into Brazilian Portuguese, 
  under the terms of the GNU Free Documentation License, Version 1.3 or 
  any later version published by the Free Software Foundation; with no 
  Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A 
  copy of the license is included in the section entitled "GNU Free 
  Documentation License".

# Warning: all the files herein published are released with no warranty, implicit and (or) explicit.

-->

  <!ENTITY gnutls-download-http "&gnupg-http;/gnutls/v3.7/gnutls-&gnutls-version;.tar.xz">
  <!ENTITY gnutls-download-ftp  "&gnupg-ftp;/gnutls/v3.7/gnutls-&gnutls-version;.tar.xz">
  <!ENTITY gnutls-download-ftp  " ">
  <!ENTITY gnutls-md5sum        "3723d8fee66c5d45d780ca64c089ed23">
  <!ENTITY gnutls-size          "5,8 MB">
  <!ENTITY gnutls-buildsize     "163 MB (acrescente 107 MB para os testes)">
  <!ENTITY gnutls-time          "0,9 UPC (acrescente 2,7 UPC para os testes; ambos usando paralelismo=4)">
]>

<sect1 id="gnutls" xreflabel="GnuTLS-&gnutls-version;">
  <?dbhtml filename="gnutls-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>GnuTLS-&gnutls-version;</title>

  <indexterm zone="gnutls">
    <primary sortas="a-GnuTLS">GnuTLS</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introdução ao GnuTLS</title>

    <para>

      O pacote <application>GnuTLS</application> contém bibliotecas e 
      ferramentas do espaço de usuário(a) as quais fornecem uma camada 
      segura sobre uma camada de transporte confiável.  Atualmente a 
      biblioteca <application>GnuTLS</application> implementa os 
      protocolos propostos pelo grupo de trabalho TLS do IETF.  Citação 
      originária da especificação do protocolo TLS:

    </para>

    <para>

      <quote>

        O protocolo TLS fornece privacidade de comunicações ao longo da 
        Internet.  O protocolo permite que aplicativos cliente/servidor 
        se comuniquem de uma maneira que é projetada para evitar 
        espionagem, adulteração ou falsificação de mensagem.

      </quote>

    </para>

    <para>

      O <application>GnuTLS</application> fornece suporte para os 
      protocolos TLS 1.3, TLS 1.2, TLS 1.1, TLS 1.0 e SSL 3.0, extensões 
      TLS, incluindo nome de servidor e tamanho máximo de registro.  
      Adicionalmente, a biblioteca suporta autenticação usando o 
      protocolo SRP; certificados X.509 e chaves OpenPGP, juntamente com 
      suporte para a extensão Pre-Shared-Keys (PSK) do TLS; a extensão 
      Inner Application (TLS/IA); e manuseio de certificado X.509 e 
      OpenPGP.

    </para>

    &lfs111_checked;

    <bridgehead renderas="sect3">Informação do Pacote</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Transferência (HTTP): <ulink url="&gnutls-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Transferência (FTP): <ulink url="&gnutls-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Soma de verificação MD5 da transferência: &gnutls-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Tamanho da transferência: &gnutls-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Espaço em disco estimado exigido: &gnutls-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Tempo de construção estimado: &gnutls-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependências do GnuTLS</bridgehead>

    <bridgehead renderas="sect4">Exigidas</bridgehead>
    <para role="required">
      <xref linkend="nettle"/>
    </para>

    <bridgehead renderas="sect4">Recomendadas</bridgehead>
    <para role="recommended">
      <xref linkend="make-ca"/>,
      <xref linkend="libunistring"/>,
      <xref linkend="libtasn1"/> e
      <xref linkend="p11-kit"/>
    </para>

    <bridgehead renderas="sect4">Opcionais</bridgehead>
    <para role="optional">
      <xref linkend="doxygen"/>,
      <xref linkend="gtk-doc"/>,
      <xref linkend="guile"/>,
      <xref linkend="libidn"/> ou
      <xref linkend="libidn2"/>,
      <xref linkend="libseccomp"/>,
      <xref linkend="net-tools"/> (usado durante a suíte de teste),
      <xref linkend="texlive"/> ou <xref linkend="tl-installer"/>,
      <xref linkend="unbound"/> (para construir a biblioteca DANE),
      <xref linkend="valgrind"/> (usado durante a suíte de teste),
      <ulink url="&gnu-http;/autogen/">autogen</ulink>,
      <ulink url="https://cmocka.org/">cmocka</ulink> e
      <ulink url="https://ftp.debian.org/debian/pool/main/d/datefudge/">datefudge</ulink> (usado durante a suíte de teste se a biblioteca DANE for construída) e
      <ulink url="&sourceforge-dl;/trousers/">Trousers</ulink> (suporte a Módulo Confiável de Plataforma)
    </para>

    <note>

      <para>

        Observe que se você não instalar o <xref linkend="libtasn1"/>, 
        [então] uma versão mais antiga embarcada no tarball do 
        <application>GnuTLS</application> será usada em vez disso.

      </para>

    </note>

    <para condition="html" role="usernotes">Observações de Usuário(a):
      <ulink url="&blfs-wiki;/gnutls"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Instalação do GnuTLS</title>

    <para>

      Instale o <application>GnuTLS</application> executando os 
      seguintes comandos:

    </para>

<screen><userinput>./configure --prefix=/usr \
            --docdir=/usr/share/doc/gnutls-&gnutls-version; \
            --disable-guile \
            --disable-rpath \
            --with-default-trust-store-pkcs11="pkcs11:" &amp;&amp;
make</userinput></screen>

    <para>

      Para testar os resultados, emita: <command>make check</command>.

    </para>

    <para>

      Agora, como o(a) usuário(a)
<systemitem class="username">root</systemitem>

    </para>

<screen role="root"><userinput>make install</userinput></screen>

    <para>

      Se você passou <option>--enable-gtk-doc</option> para o script 
      <command>configure</command>, [então] a API automaticamente será 
      instalada.  Do contrário, se desejado, você ainda pode instalar a 
      documentação da API no diretório <filename 
      class="directory">/usr/share/gtk-doc/html/gnutls</filename> usando 
      o seguinte comando como o(a) usuário(a)
<systemitem class="username">root</systemitem>:

    </para>

<screen role="root"><userinput>make -C doc/reference install-data-local</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explicações do Comando</title>

    <para> 

      <parameter>--with-default-trust-store-pkcs11="pkcs11:"</parameter>: 
      Essa chave diz ao gnutls para usar a loja de confiança PKCS #11 
      como a confiança padrão.  Omita essa chave se o
<xref linkend="p11-kit"/> não estiver instalado.

    </para>

    <para>

      <parameter>--disable-guile</parameter>: Essa chave desabilita o 
      suporte a GUILE, dado que o GnuTLS não suporta o Guile-2.2.x 
      ainda.

    </para>

    <para>

      <parameter>--disable-rpath</parameter>: Essa chave evita a 
      construção dos utilitários e dos testes do GnuTLS com caminho de 
      busca da biblioteca em tempo de execução codificado rigidamente.  
      O caminho em tempo de execução codificado rigidamente é 
      desnecessário para o BLFS e ele causa falhas de teste se uma 
      versão antiga do GnuTLS estiver instalada.

    </para>

    <para>

      <option>--with-default-trust-store-file=/etc/pki/tls/certs/ca-bundle.crt</option>: 
      Essa chave diz ao <command>configure</command> onde encontrar o 
      feixe de certificados legados da AC e para usá-lo em vez do módulo 
      PKCS #11 por padrão.  Use isso se o <xref linkend="p11-kit"/> não 
      estiver instalado.

    </para>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude"
      href="../../xincludes/gtk-doc-rebuild-pt_br.xml"/>

    <para>

      <option>--enable-openssl-compatibility</option>: Use essa chave se 
      você desejar construir a biblioteca de compatibilidade do OpenSSL.

    </para>

    <para>

      <option>--without-p11-kit</option>: Use essa chave se você não 
      tiver instalado o <application>p11-kit</application>.

    </para>

    <para>

      <option>--with-included-unistring</option>: Usa a versão 
      enfeixada do libunistring, em vez da do sistema.  Use essa chave 
      se você não tiver instalado o <xref linkend="libunistring"/>.

    </para>

  </sect2>

  <sect2 role="content">
    <title>Conteúdo</title>

    <segmentedlist>
      <segtitle>Aplicativos Instalados</segtitle>
      <segtitle>Bibliotecas Instaladas</segtitle>
      <segtitle>Diretórios Instalados</segtitle>

      <seglistitem>
        <seg>
          certtool, danetool, gnutls-cli, gnutls-cli-debug,
          gnutls-serv, ocsptool, p11tool, psktool e srptool
        </seg>
        <seg>
          libgnutls.so, libgnutls-dane.so, libgnutlsxx.so e 
          libgnutls-openssl.so (opcional)<!-- desabilitado , e 
          /usr/lib/guile/2.2/guile-gnutls-v-2.so -->
        </seg>
        <seg>
          /usr/include/gnutls,
          /usr/share/gtk-doc/html/gnutls e
<!-- desabilitado /usr/share/guile/2.2/gnutls -->
          /usr/share/doc/gnutls-&gnutls-version;
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descrições Curtas</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="certtool">
        <term><command>certtool</command></term>
        <listitem>

          <para>

            é usado para gerar certificados X.509, solicitações de 
            certificado e chaves privadas

          </para>

          <indexterm zone="gnutls certtool">
            <primary sortas="b-certtool">certtool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="danetool">
        <term><command>danetool</command></term>
        <listitem>

          <para>

            é uma ferramenta usada para gerar e verificar registros de 
            recurso DNS para o protocolo DANE

          </para>

          <indexterm zone="gnutls danetool">
            <primary sortas="b-danetool">danetool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-cli">
        <term><command>gnutls-cli</command></term>
        <listitem>

          <para>

            é um aplicativo cliente simples para configurar uma conexão 
            TLS para algum outro computador

          </para>

          <indexterm zone="gnutls gnutls-cli">
            <primary sortas="b-gnutls-cli">gnutls-cli</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-cli-debug">
        <term><command>gnutls-cli-debug</command></term>
        <listitem>

          <para>

            é um aplicativo cliente simples para configurar uma conexão 
            TLS para algum outro computador e produz resultados de 
            progresso muito verbosos

          </para>

          <indexterm zone="gnutls gnutls-cli-debug">
            <primary sortas="b-gnutls-cli-debug">gnutls-cli-debug</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="gnutls-serv">
        <term><command>gnutls-serv</command></term>
        <listitem>

          <para>

            é um aplicativo servidor simples que ouve conexões TLS 
            entrantes

          </para>

          <indexterm zone="gnutls gnutls-serv">
            <primary sortas="b-gnutls-serv">gnutls-serv</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="ocsptool">
        <term><command>ocsptool</command></term>
        <listitem>

          <para>

            é um aplicativo que pode analisar e imprimir informação 
            acerca de solicitações/respostas OCSP, gerar solicitações e 
            verificar respostas

          </para>

          <indexterm zone="gnutls ocsptool">
            <primary sortas="b-ocsptool">ocsptool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="p11tool">
        <term><command>p11tool</command></term>
        <listitem>

          <para>

            é um aplicativo que permite manusear dados originários de 
            cartões inteligentes e de módulos de segurança do PKCS #11

          </para>

          <indexterm zone="gnutls p11tool">
            <primary sortas="b-p11tool">p11tool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="psktool">
        <term><command>psktool</command></term>
        <listitem>

          <para>

            é um aplicativo simples que gera chaves aleatórias para uso 
            com TLS-PSK

          </para>

          <indexterm zone="gnutls psktool">
            <primary sortas="b-psktool">psktool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="srptool">
        <term><command>srptool</command></term>
        <listitem>

          <para>

            é um aplicativo simples que emula os aplicativos nas 
            bibliotecas Stanford SRP (Secure Remote Password) usando o 
            GnuTLS

          </para>

          <indexterm zone="gnutls srptool">
            <primary sortas="b-srptool">srptool</primary>
          </indexterm>
        </listitem>
      </varlistentry>

      <varlistentry id="libgnutls">
        <term><filename class="libraryfile">libgnutls.so</filename></term>
        <listitem>

          <para>

            contém as funções centrais da API e funções da API de 
            certificado X.509

          </para>

          <indexterm zone="gnutls libgnutls">
            <primary sortas="c-libgnutls">libgnutls.so</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
