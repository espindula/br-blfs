<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<!--

Direitos autorais (Copyright) da versão modificada traduzida para a 
língua portuguesa escrita e falada no Brasil: (c) 2022, 2023 Jamenson 
Ferreira Espindula de Almeida Melo (<jafesp@gmail.com>).

  Este trabalho de tradução do livro "Beyond Linux From Scratch" é 
  classificado pela Free Software Foundation como sendo uma "versão 
  modificada" do mencionado livro.  Em assim sendo, na qualidade de 
  tradutor, produtor da "versão modificada" e titular dos direitos 
  autorais sobre a versão traduzida para a língua portuguesa do livro 
  "Beyond Linux From Scratch", concede-se a seguinte permissão:

  É concedida permissão para copiar, distribuir e (ou) modificar este 
  livro "Beyond Linux From Scratch", versão traduzida para a língua 
  portuguesa, sob os termos da Licença de Documentação Livre GNU, versão 
  1.3 ou qualquer versão posterior publicada pela Free Software 
  Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
  Textos de Quarta Capa.  Uma cópia da licença está incluída na seção 
  intitulada "Licença de Documentação Livre GNU".
  
# Atenção: todos os documentos aqui publicados são distribuídos sem qualquer garantia, implícita e (ou) explícita.
  
  Permission is granted to copy, distribute and (or) modify this book 
  "Beyond Linux From Scratch", translated into Brazilian Portuguese, 
  under the terms of the GNU Free Documentation License, Version 1.3 or 
  any later version published by the Free Software Foundation; with no 
  Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A 
  copy of the license is included in the section entitled "GNU Free 
  Documentation License".

# Warning: all the files herein published are released with no warranty, implicit and (or) explicit.

-->

<sect1 id="fw-firewall" xreflabel="Teorias de Firewall">
  <?dbhtml filename="firewall-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>Configurando um Firewall de Rede de Comunicação</title>

  <sect2 id="fw-intro" xreflabel="Introdução às Teorias de Firewall">
    <title>Introdução à Criação de Firewall</title>

    <para>

      O propósito de um firewall é o de proteger um computador ou uma 
      rede de comunicação contra acesso malicioso.  Em um mundo 
      perfeito, cada daemon ou serviço, em cada máquina, está 
      perfeitamente configurado e imune a falhas de segurança e 
      todos(as) os(as) usuários(as) são implicitamente confiáveis para 
      usar o equipamento conforme pretendido.  Entretanto, isso é 
      raramente, se é que existe, o caso.  Daemons possivelmente estejam 
      mal configurados ou atualizações possivelmente não tenham sido 
      aplicadas para maus usos em benefício próprio conhecidos contra 
      serviços essenciais.  Adicionalmente, você possivelmente deseje 
      escolher quais serviços são acessíveis por certas máquinas ou por 
      usuários(as); ou você possivelmente deseje limitar para quais 
      máquinas ou aplicações são permitidas o acesso externo.  
      Alternativamente, você possivelmente simplesmente não confie em 
      alguns dos seus aplicativos ou usuários(as).  Por essas razões, um 
      firewall cuidadosamente projetado deveria ser uma parte essencial 
      da segurança do sistema.

    </para>

    <para>

      Embora um firewall consiga limitar bastante o escopo dos problemas 
      acima, não assuma que ter-se um firewall torna redundante a 
      configuração cuidadosa ou que qualquer má configuração negligente 
      seja inofensiva.  Um firewall não evita o mau uso em benefício 
      próprio de qualquer serviço que você ofereça do lado de fora dele.  
      A despeito de ter um firewall, você precisa manter aplicativos e 
      daemons devidamente configurados e atualizados.

    </para>

  </sect2>

  <sect2>
    <title>Significado da Palavra "Firewall"</title>

    <para>

      A palavra firewall pode ter diferentes significados.

    </para>

    <sect3>
      <title>Firewall Pessoal</title>

      <para>

        Esse é um dispositivo de hardware ou aplicativo de software 
        destinado a proteger computador doméstico ou de área de trabalho 
        conectado com a Internet.  Esse tipo de firewall é altamente 
        relevante para usuários(as) que não sabem como o computador 
        deles(as) poderia ser acessado via Internet ou como desabilitar 
        tal acesso, especialmente se eles(as) sempre estiverem online e 
        conectados(as) via links de banda larga.

      </para>

      <para>

        Uma configuração de exemplo para um firewall pessoal é fornecida 
        em <xref linkend="fw-persFw-ipt"/>.

      </para>

    </sect3>

    <sect3>
      <title>Roteador de Mascaramento</title>

      <para>

        Isso é um sistema colocado entre a Internet e uma intranet.  
        Para minimizar o risco de comprometimento do próprio firewall, 
        geralmente deveria ter somente uma função&mdash;aquela de 
        proteger a intranet.  Embora não completamente livre de risco, 
        as tarefas de fazer o roteamento e de mascaramento de IP 
        (reescrever cabeçalhos de IP dos pacotes que ele roteia de 
        clientes com endereços IP privados para a Internet, de forma que 
        eles pareçam vir a partir do próprio firewall) comumente são 
        consideradas relativamente seguras.

      </para>

      <para>

        Uma configuração de exemplo para um firewall de mascaramento é 
        fornecida em <xref linkend="fw-masqRouter-ipt"/>.

      </para>

    </sect3>

    <sect3>
      <title>BusyBox</title>

      <para>

        Isso frequentemente é um computador antigo que você 
        possivelmente tenha aposentado e quase esquecido, realizando 
        funções de mascaramento ou de roteamento, porém oferecendo 
        serviços que não são de firewall, tais como um cache de web ou 
        correio.  Isso possivelmente seja usado para redes de 
        comunicação domésticas, porém não é para ser considerado tão 
        seguro quanto uma máquina somente de firewall, pois a combinação 
        de servidor e roteador/firewall em uma máquina eleva a 
        complexidade da configuração.

      </para>

      <para>

        Uma configuração de exemplo para uma BusyBox é fornecida em 
        <xref linkend="fw-busybox-ipt"/>.

      </para>

    </sect3>

    <sect3>
      <title>Firewall com uma Zona Desmilitarizada</title>

      <para>

        Esse tipo de firewall realiza mascaramento ou roteamento, porém 
        concede acesso público a alguma ramificação da sua rede de 
        comunicação que é separada fisicamente da sua intranet regular e 
        essencialmente é uma rede de comunicação separada com acesso 
        direto à Internet.  Os servidores nessa rede de comunicação são 
        aqueles que precisam estar facilmente acessíveis a partir tanto 
        da Internet quanto da intranet.  O firewall protege ambas as 
        redes de comunicação.  Esse tipo de firewall tem um mínimo de 
        três interfaces de rede de comunicação.

      </para>

    </sect3>

    <sect3>
      <title>Filtragem de Pacote</title>

      <para>

        Esse tipo de firewall faz roteamento ou mascaramento, porém não 
        mantém uma tabela estável dos fluxos de comunicação transeuntes.  
        É rápido, entretanto bastante limitado na habilidade de bloquear 
        pacotes indesejados sem bloquear pacotes desejados.

      </para>

    </sect3>

  </sect2>

  <sect2>
    <title>Conclusão</title>

    <caution>

      <para>

        As configurações de exemplo fornecidas para o
<xref linkend="iptables"/>
<!-- e para o <xref linkend="nftables"/> -->
        não são destinadas para serem um guia completo para a segurança 
        de sistemas.  As técnicas de firewall são um problema complexo 
        que exige configuração cuidadosa.  As configurações fornecidas 
        pelo BLFS são destinadas somente para dar exemplos do como um 
        firewall funciona.  Elas não são destinadas a se adequarem a 
        qualquer configuração específica e possivelmente não forneçam 
        proteção completa contra um ataque.

      </para>

    </caution>

<!--

    <para>

      O BLFS fornece dois utilitários para gerenciar a interface 
      Netfilter do kernel, <xref linkend="iptables"/> e
<xref linkend="nftables"/>.

    </para>

-->

    <para>

      O BLFS fornece um utilitário para gerenciar a interface Netfilter 
      do kernel, o <xref linkend="iptables"/>.  Ele tem estado por aí 
      desde os primeiros kerneis 2.4 e tem sido o padrão desde então.  
      Esse provavelmente é o conjunto de ferramentas que será mais 
      familiar para os(as) administradores(as) existentes.  Outras 
      ferramentas tem sido desenvolvidas mais recentemente; veja-se a 
      lista das leituras adicionais abaixo para mais detalhes.  Aqui 
      você encontrará uma lista de URLs que contém informação 
      compreensível acerca do construir firewalls e de proteção 
      adicional ao seu sistema.

    </para>

<!--

    <para>

      O <xref linkend="nftables"/> é o sucessor do <xref 
      linkend="iptables"/> e fornece todas as mesmas funcionalidades com 
      uma ferramenta única do espaço do(a) usuário(a), o 
      <command>nft</command>, que usa uma sintaxe similar à do 
      utilitário do BSD <application>pf</application> e, possivelmente, 
      seja mais fácil para novos(as) usuários(as) ou para 
      administradores(as) já familiarizados(as) com aquela plataforma.

    </para>

    <para>

      Embora ambas possam ser usadas em conjunto, isso é uma 
      configuração avançada e você deveria se decidir entre uma ou a 
      outra.  Ambas as páginas incluem configurações de exemplo muito 
      simples e a personalização das configurações fornecidas para o seu 
      ambiente específico será necessária se você escolher usar qualquer 
      uma sem uma ferramenta de configuração.

    </para>

    <para>

      Adicionalmente, uma ferramenta de gerenciamento de firewall, o 
      <xref linkend="firewalld"/>, é fornecida para facilitar 
      enormemente a configuração do firewall tanto para ambientes 
      simples quanto para os complexos e pode ser usada com qualquer 
      ferramenta.  Você não deveria usar as configurações de exemplo se 
      pretende usar o <application>firewalld</application> para 
      gerenciar suas regras de firewall.

    </para>

    <para>

      Se você escolher configurar manualmente, [então] dê uma olhada na 
      lista de leituras adicionais abaixo para mais detalhes.  Aqui você 
      encontrará uma lista de URLs que contém informação compreensível 
      acerca do construir firewalls e proteção adicional ao seu sistema.

    </para>

-->

  </sect2>

  <sect2 id="fw-extra-info">
    <title>Informação Extra</title>

    <sect3>
      <title>Leitura Adicional Acerca de Firewalls</title>

      <blockquote>
        <literallayout>
<ulink url="http://www.netfilter.org/">www.netfilter.org - Homepage dos projetos netfilter/iptables/nftables</ulink>
<ulink url="http://www.netfilter.org/documentation/FAQ/netfilter-faq.html">Perguntas Frequentes relacionadas ao Netfilter</ulink>
<ulink url="http://www.netfilter.org/documentation/index.html#HOWTO">Tutoriais relacionados ao Netfilter</ulink>
<ulink url="https://wiki.nftables.org/wiki-nftables/index.php/Main_Page">Tutoriais do nftables</ulink>
<ulink url="http://en.tldp.org/LDP/nag2/x-087-2-firewall.html">en.tldp.org/LDP/nag2/x-087-2-firewall.html</ulink>
<ulink url="http://en.tldp.org/HOWTO/Security-HOWTO.html">en.tldp.org/HOWTO/Security-HOWTO.html</ulink>
<ulink url="http://en.tldp.org/HOWTO/Firewall-HOWTO.html">en.tldp.org/HOWTO/Firewall-HOWTO.html</ulink>
<ulink url="http://www.linuxsecurity.com/docs/">www.linuxsecurity.com/docs/</ulink>
<ulink url="http://www.little-idiot.de/firewall">www.little-idiot.de/firewall (Alemão &amp; desatualizado, porém muito compreensível)</ulink>
<ulink url="http://linux.oreillynet.com/pub/a/linux/2000/03/10/netadmin/ddos.html">linux.oreillynet.com/pub/a/linux/2000/03/10/netadmin/ddos.html</ulink>
<ulink url="http://staff.washington.edu/dittrich/misc/ddos">staff.washington.edu/dittrich/misc/ddos</ulink>
<ulink url="http://www.e-infomax.com/ipmasq">www.e-infomax.com/ipmasq</ulink>
<ulink url="http://www.circlemud.org/~jelson/writings/security/index.htm">www.circlemud.org/~jelson/writings/security/index.htm</ulink>
<ulink url="http://www.securityfocus.com">www.securityfocus.com</ulink>
<ulink url="http://www.cert.org/tech_tips/">www.cert.org - tech_tips</ulink>
<ulink url="http://security.ittoolbox.com/">security.ittoolbox.com</ulink>
<ulink url="http://www.insecure.org/reading.html">www.insecure.org/reading.html</ulink>
        </literallayout>
      </blockquote>

    </sect3>

  </sect2>

</sect1>
