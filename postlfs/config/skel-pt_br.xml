<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="postlfs-config-skel" xreflabel="Configurando para Adicionar Usuários(as)">
  <?dbhtml filename="skel-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>Configurando para Adicionar Usuários(as)</title>

  <indexterm zone="postlfs-config-skel">
    <primary sortas="e-etc-skel">/etc/skel/*</primary>
  </indexterm>

  <indexterm zone="postlfs-config-skel">
    <primary sortas="e-etc-default-useradd">/etc/default/useradd</primary>
  </indexterm>

  <para>

    Juntos, o comando <command>/usr/sbin/useradd</command> e o diretório 
    <filename class="directory">/etc/skel</filename> (ambos são fáceis 
    de configurar e de usar), fornecem uma maneira para assegurar que 
    usuários(as) novos(as) sejam adicionados(as) ao seu sistema LFS com 
    as mesmas configurações iniciais para coisas como o 
    <envar>PATH</envar>; o processamento do teclado; e de outras 
    variáveis ambientais.  Usar essas duas facilidades torna mais fácil 
    assegurar esse estado inicial para cada usuário(a) novo(a) 
    adicionado(a) ao sistema.

  </para>

  <para>

    O diretório <filename class="directory">/etc/skel</filename> mantém 
    cópias de vários arquivos de inicialização e de outros que 
    possivelmente são copiados para o novo diretório home do(a) 
    usuário(a) quando o aplicativo <command>/usr/sbin/useradd</command> 
    adicionar o(a) usuário(a) novo(a).

  </para>

  <bridgehead renderas="sect5">Useradd</bridgehead>

  <para>

    O aplicativo <command>useradd</command> usa uma coleção de valores 
    padrão mantidos em <filename>/etc/default/useradd</filename>.  Esse 
    arquivo é criado em uma instalação da base do LFS pelo pacote 
    <application>Shadow</application>.  Se ele tiver sido removido ou 
    renomeado, [então] o aplicativo <command>useradd</command> usa 
    alguns padrões internos.  Você consegue ver os valores padrão 
    executando <command>/usr/sbin/useradd -D</command>.

  </para>

  <para>

    Para mudar esses valores, simplesmente modifique o arquivo 
    <filename>/etc/default/useradd</filename> como o(a) usuário(a) 
    <systemitem class='username'>root</systemitem>.  Uma alternativa 
    para modificar diretamente o arquivo é a de executar 
    <command>useradd</command> como o(a) usuário(a)
    <systemitem class='username'>root</systemitem> enquanto fornece as
    modificações desejadas na linha de comando.  Informação acerca do
    como fazer isso pode ser encontrada na página de manual do 
    <command>useradd</command>.

  </para>

  <bridgehead renderas="sect5">/etc/skel</bridgehead>

  <para>

    Para começar, crie um diretório
    <filename class="directory">/etc/skel</filename> e tenha
    certeza de que ele seja gravável somente pelo(a)
    administrador(a) do sistema, usualmente o(a)
    <systemitem class="username">root</systemitem>.  Criar-se o
    diretório como o(a) <systemitem class="username">root</systemitem>
    é o melhor caminho a percorrer.

  </para>

  <para>

    O modo de quaisquer arquivos oriundos desta parte do livro que você 
    coloque no <filename class="directory">/etc/skel</filename> deveria 
    ser gravável somente pelo(a) dono(a).  Também, dado que não existe 
    como se dizer que tipo de informação sensível um(a) usuário(a) 
    eventualmente possivelmente coloque na cópia dele(a) desses 
    arquivos, você deveria torná-los ilegíveis por "group" e "other".

  </para>





  <para>
    You can also put other files in
    <filename class="directory">/etc/skel</filename> and
    different permissions may be needed for them.
  </para>

  <para>
    Decide which initialization files should be provided in every (or most)
    new user's home directory. The decisions you make will affect what you
    do in the next two sections, <xref linkend="postlfs-config-profile"/> and
    <xref linkend="postlfs-config-vimrc"/>. Some or all of those files will be
    useful for <systemitem class="username">root</systemitem>, any
    already-existing users, and new users.
  </para>

  <para>
    The files from those sections that you might want to place in
    <filename class="directory">/etc/skel</filename> include
    <filename>.inputrc</filename>, <filename>.bash_profile</filename>,
    <filename>.bashrc</filename>, <filename>.bash_logout</filename>,
    <filename>.dircolors</filename>, and <filename>.vimrc</filename>. If
    you are unsure which of these should be placed there, just continue to
    the following sections, read each section and any references provided,
    and then make your decision.
  </para>

  <para>
    You will run a slightly modified set of commands for files which are
    placed in <filename class="directory">/etc/skel</filename>. Each section
    will remind you of this. In brief, the book's commands have been written
    for files <emphasis>not</emphasis> added to <filename class="directory">
    /etc/skel</filename> and instead just sends the results to the user's
    home directory. If the file is going to be in <filename class="directory">
    /etc/skel</filename>, change the book's command(s) to send output there
    instead and then just copy the file from <filename class="directory">
    /etc/skel</filename> to the appropriate directories, like <filename
    class="directory">/etc</filename>, <filename class="directory">~
    </filename> or the home directory of any other user already in the system.
  </para>

  <bridgehead renderas="sect5">When Adding a User</bridgehead>

  <para>
    When adding a new user with <command>useradd</command>, use
    the <option>-m</option> parameter, which tells
    <command>useradd</command> to create the user's home directory and
    copy files from <filename class="directory">/etc/skel</filename> (can be
    overridden) to the new user's home directory.  For example (perform as the
    <systemitem class="username">root</systemitem> user):
  </para>

<screen role="root"><userinput>useradd -m <replaceable>&lt;newuser&gt;</replaceable></userinput></screen>

</sect1>
