<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<!--

Direitos autorais (Copyright) da versão modificada traduzida para a 
língua portuguesa escrita e falada no Brasil: (c) 2022, 2023 Jamenson 
Ferreira Espindula de Almeida Melo (<jafesp@gmail.com>).

  Este trabalho de tradução do livro "Beyond Linux From Scratch" é 
  classificado pela Free Software Foundation como sendo uma "versão 
  modificada" do mencionado livro.  Em assim sendo, na qualidade de 
  tradutor, produtor da "versão modificada" e titular dos direitos 
  autorais sobre a versão traduzida para a língua portuguesa do livro 
  "Beyond Linux From Scratch", concede-se a seguinte permissão:

  É concedida permissão para copiar, distribuir e (ou) modificar este 
  livro "Beyond Linux From Scratch", versão traduzida para a língua 
  portuguesa, sob os termos da Licença de Documentação Livre GNU, versão 
  1.3 ou qualquer versão posterior publicada pela Free Software 
  Foundation; sem Seções Invariantes, sem Textos de Capa Frontal e sem 
  Textos de Quarta Capa.  Uma cópia da licença está incluída na seção 
  intitulada "Licença de Documentação Livre GNU".
  
# Atenção: todos os documentos aqui publicados são distribuídos sem qualquer garantia, implícita e (ou) explícita.
  
  Permission is granted to copy, distribute and (or) modify this book 
  "Beyond Linux From Scratch", translated into Brazilian Portuguese, 
  under the terms of the GNU Free Documentation License, Version 1.3 or 
  any later version published by the Free Software Foundation; with no 
  Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A 
  copy of the license is included in the section entitled "GNU Free 
  Documentation License".

# Warning: all the files herein published are released with no warranty, implicit and (or) explicit.

-->

<sect1 id="postlfs-config-skel" xreflabel="Configurando para Adicionar Usuários(as)">
  <?dbhtml filename="skel-pt_br.html"?>

  <sect1info>
    <date>$Date$</date>
  </sect1info>

  <title>Configurando para Adicionar Usuários(as)</title>

  <indexterm zone="postlfs-config-skel">
    <primary sortas="e-etc-skel">/etc/skel/*</primary>
  </indexterm>

  <indexterm zone="postlfs-config-skel">
    <primary sortas="e-etc-default-useradd">/etc/default/useradd</primary>
  </indexterm>

  <para>

    Juntos, o comando <command>/usr/sbin/useradd</command> e o diretório 
    <filename class="directory">/etc/skel</filename> (ambos são fáceis 
    de configurar e de usar), fornecem uma maneira para assegurar que 
    usuários(as) novos(as) sejam adicionados(as) ao seu sistema LFS com 
    as mesmas configurações iniciais para coisas como o 
    <envar>PATH</envar>; o processamento do teclado; e de outras 
    variáveis ambientais.  Usar essas duas facilidades torna mais fácil 
    assegurar esse estado inicial para cada usuário(a) novo(a) 
    adicionado(a) ao sistema.

  </para>

  <para>

    O diretório <filename class="directory">/etc/skel</filename> mantém 
    cópias de vários arquivos de inicialização e de outros que 
    possivelmente são copiados para o novo diretório home do(a) 
    usuário(a) quando o aplicativo <command>/usr/sbin/useradd</command> 
    adicionar o(a) usuário(a) novo(a).

  </para>

  <bridgehead renderas="sect5">Useradd</bridgehead>

  <para>

    O aplicativo <command>useradd</command> usa uma coleção de valores 
    padrão mantidos em <filename>/etc/default/useradd</filename>.  Esse 
    arquivo é criado em uma instalação da base do LFS pelo pacote 
    <application>Shadow</application>.  Se ele tiver sido removido ou 
    renomeado, [então] o aplicativo <command>useradd</command> usa 
    alguns padrões internos.  Você consegue ver os valores padrão 
    executando <command>/usr/sbin/useradd -D</command>.

  </para>

  <para>

    Para mudar esses valores, simplesmente modifique o arquivo 
    <filename>/etc/default/useradd</filename> como o(a) usuário(a) 
    <systemitem class='username'>root</systemitem>.  Uma alternativa 
    para modificar diretamente o arquivo é a de executar 
    <command>useradd</command> como o(a) usuário(a)
    <systemitem class='username'>root</systemitem> enquanto fornece as
    modificações desejadas na linha de comando.  Informação acerca do
    como fazer isso pode ser encontrada na página de manual do 
    <command>useradd</command>.

  </para>

  <bridgehead renderas="sect5">/etc/skel</bridgehead>

  <para>

    Para começar, crie um diretório
    <filename class="directory">/etc/skel</filename> e tenha
    certeza de que ele seja gravável somente pelo(a)
    administrador(a) do sistema, usualmente o(a)
    <systemitem class="username">root</systemitem>.  Criar-se o
    diretório como o(a) <systemitem class="username">root</systemitem>
    é o melhor caminho a percorrer.

  </para>

  <para>

    O modo de quaisquer arquivos oriundos desta parte do livro que você 
    coloque no <filename class="directory">/etc/skel</filename> deveria 
    ser gravável somente pelo(a) dono(a).  Também, dado que não existe 
    como se dizer que tipo de informação sensível um(a) usuário(a) 
    eventualmente possivelmente coloque na cópia dele(a) desses 
    arquivos, você deveria torná-los ilegíveis por "group" e "other".

  </para>

  <para>

    Você também pode colocar outros arquivos no
    <filename class="directory">/etc/skel</filename> e permissões
    diferentes possivelmente sejam necessárias para eles.

  </para>

  <para>

    Decida quais arquivos de inicialização deveriam ser fornecidos em 
    cada (ou na maioria) diretório home do(a) usuário(a) novo(a).  As 
    decisões que você tomar afetarão o que você fará nas próximas duas 
    seções, <xref linkend="postlfs-config-profile"/> e
    <xref linkend="postlfs-config-vimrc"/>.  Alguns, ou todos, daqueles 
    arquivos serão úteis para o(a)
    <systemitem class="username">root</systemitem>; para quaisquer
    usuários(as) já existentes; e para usuários(as) novos(as).

  </para>

  <para>

    Os arquivos originários daquelas seções que você poderia querer 
    colocar no <filename class="directory">/etc/skel</filename> incluem: 
    <filename>.inputrc</filename>; <filename>.bash_profile</filename>; 
    <filename>.bashrc</filename>; <filename>.bash_logout</filename>; 
    <filename>.dircolors</filename>; e <filename>.vimrc</filename>.  Se 
    estiver inseguro(a) acerca de quais desses deveriam ser colocados 
    lá, [então] apenas continue para as seções seguintes; leia cada 
    seção e quaisquer referências fornecidas; e, então, tome a sua 
    decisão.

  </para>

  <para>

    Você executará um conjunto ligeiramente modificado de comandos para 
    arquivos que estejam colocados no
<filename class="directory">/etc/skel</filename>.  Cada seção te lembrará 
    disso.  Em resumo, os comandos do livro foram escritos para arquivos 
    <emphasis>não</emphasis> adicionados ao
<filename class="directory">/etc/skel</filename>; e, em vez disso, apenas 
    envia os resultados para o diretório home do(a) usuário(a).  Se o 
    arquivo estará no <filename class="directory">/etc/skel</filename>, 
    [então] mude o(s) comando(s) do livro para enviar a saída gerada 
    para lá em vez disso; e, então, apenas copie o arquivo a partir do 
    <filename class="directory">/etc/skel</filename> para os diretórios 
    apropriados, como o <filename class="directory">/etc</filename>; o 
    <filename class="directory">~</filename>; ou o diretório home de 
    qualquer outro(a) usuário(a) já no sistema.

  </para>

  <bridgehead renderas="sect5">Quando Adicionando-se um(a) Usuário(a)</bridgehead>

  <para>

    Quando se adicionar um(a) usuário(a) novo(a) com o 
    <command>useradd</command>, use o parâmetro <option>-m</option>, o 
    qual diz ao <command>useradd</command> para criar o diretório home 
    do(a) usuário(a); e para copiar arquivos a partir do
<filename class="directory">/etc/skel</filename> (pode ser anulado) para o 
    diretório home do(a) usuário(a) novo(a).  Por exemplo, (realize como 
    o(a) usuário(a) <systemitem class="username">root</systemitem>):

  </para>

<screen role="root"><userinput>useradd -m <replaceable>&lt;usuario(a)_novo(a)&gt;</replaceable></userinput></screen>

</sect1>
