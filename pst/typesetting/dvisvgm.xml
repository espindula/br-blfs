<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

  <!-- his can be accessed via https://dvisvgm.de/Downloads/
       NOT via the tags at github - those use autogen.sh -->
  <!ENTITY dvisvgm-download-http "https://github.com/mgieseki/dvisvgm/releases/download/&dvisvgm-version;/dvisvgm-&dvisvgm-version;.tar.gz">
  <!ENTITY dvisvgm-download-ftp  "">
  <!ENTITY dvisvgm-md5sum        "e3de28609b74a61ea496c85b3e0f0ef1">
  <!ENTITY dvisvgm-size          "2,9Mo">
  <!ENTITY dvisvgm-buildsize     "310 MB (44 MB installed, add 962 MB for the tests)">
  <!ENTITY dvisvgm-time          "0.8 SBU (add 0.6 SBU for the tests, both using parallelism=4)">
]>

<sect1 id="dvisvgm" xreflabel="dvisvgm-&dvisvgm-version;">
  <?dbhtml filename="dvisvgm.html"?>


  <title>dvisvgm-&dvisvgm-version;</title>

  <indexterm zone="dvisvgm">
    <primary sortas="a-dvisvgm">dvisvgm</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introdução a dvisvgm</title>

    <para>
      The <application>dvisvgm</application> package converts DVI, EPS and PDF
files to SVG format.
    </para>

    &lfs113_checked;

    <bridgehead renderas="sect3">Informação do Pacote</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Transferência (HTTP): <ulink url="&dvisvgm-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Transferência (FTP): <ulink url="&dvisvgm-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Soma de verificação MD5: &dvisvgm-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Tamanho da transferência: &dvisvgm-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Espaço em disco estimado exigido: &dvisvgm-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Tempo de construção estimado: &dvisvgm-time;
        </para>
      </listitem>
    </itemizedlist>

    <bridgehead renderas="sect3">Dependências de dvisvgm</bridgehead>

    <bridgehead renderas="sect4">Exigida</bridgehead>
    <para role="required">
      
      <!-- EDITORS: the docs say it needs clipper, but it uses an internal
       modified version and cannot be built with system clipper -->
<xref linkend="brotli"/>, <xref linkend="gs"/>, and <xref
linkend="potrace"/>
    </para>

    <bridgehead renderas="sect4">Recomendada</bridgehead>
    <para role="recommended">
      <xref linkend="woff2"/>
    </para>

    <bridgehead renderas="sect4">Opcionais</bridgehead>
    <para role="optional">
      <!-- version checked for dvisvgm-2.9, 0.7.3 is mentioned in the
           news and is the latest version at 2020-03-21
           maybe change to 'a recent version' if that releases faster -->
<xref linkend="asciidoc"/> with <xref linkend="xmlto"/> and <xref
linkend="libxslt"/> (see command explanations), <ulink
url="https://dblatex.sourceforge.net/">dblatex</ulink> (with the above) and
<ulink
url="https://github.com/Cyan4973/xxHash/releases/latest">xxHash</ulink> (the
current version is included in the tarball)
    </para>

    <para condition="html" role="usernotes">
      Observações de Usuário(a): <ulink url="&blfs-wiki;/dvisvgm"/>
    </para>
  </sect2>

  <sect2 role="installation">
    <title>Instalação de dvisvgm</title>


    <!-- Editors: This is in the book for svg output from asymptote. tested in
 https://www.linuxfromscratch.org/~ken/asy-nontex-testfiles/asy-test-20200123.tar.xz
 Can also be tested with texlive including tikz
 https://www.linuxfromscratch.org/~ken/tex-testfiles/ https://www.linuxfromscratch.org/~ken/
 Or, use use it to convert first or specified page(s) of a PDF to SVG - see the man page
-->
<para>
      To enable the build system to link to <filename
class="libraryfile">libkpathsea.so</filename>, as the <systemitem
class="username">root</systemitem> user create a symlink from <filename
class="directory">/usr/lib</filename>:
    </para>

<screen role="root"><userinput>ln -svf $TEXLIVE_PREFIX/lib/libkpathsea.so /usr/lib</userinput></screen>

    <para>
      The test suite assumes that a modern version of
<application>Python</application> has been installed as plain
<command>python</command>. Changing this to use <command>python3</command>
requires a sed to one <filename>Makefile.in</filename> file.
    </para>

    <para>
      Instale <application>dvisvgm</application> executando os seguintes comandos:
    </para>

<screen><userinput>sed -i 's/python/&amp;3/' tests/Makefile.in         &amp;&amp;
./configure                                     \
    --bindir=$TEXLIVE_PREFIX/bin/${TEXARCH}     \
    --mandir=$TEXLIVE_PREFIX/texmf-dist/doc/man \
    --with-kpathsea=$TEXLIVE_PREFIX             &amp;&amp;
make</userinput></screen>

    <para>
      Para testar os resultados, emita: <command>make check</command>.
    </para>

    <para>
      Agora, como o(a) usuário(a) <systemitem class="username">root</systemitem>:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="commands">
    <title>Explicações do Comando</title>

    <para>
      <command>ln -svf $TEXLIVE_PREFIX/lib/libkpathsea.so /usr/lib</command>:
Without this, the program will not link correctly,
    </para>



    
    <!-- The autoreconf command is not used above anymore.
    <para>

      <command>autoreconf -fiv</command>: The versions of
      <application>autoconf</application> and <application>automake</application>
      used when this package was created are older than the current versions in
      LFS. That causes 'make' to fail when it reaches the 'tests' subdirectory
      unless autoreconf is forced to install missing (i.e. newer) auxiliary
      files.
    </para>
-->
<!-- EDITORS: the doc target to rebuild the manpage (make man) is not
      recognised unless invoked from the doc directory (unlike make pdf which
      can be invoked from top-level but needs dblatex), and I see no utility
      in explaining how to regenerate it. ken -->
<para>
      <parameter>--with-kpathsea=$TEXLIVE_PREFIX</parameter>: This allows the
build system to find the headers for <filename
class="libraryfile">kpathsea</filename>
    </para>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Aplicativos Instalados</segtitle>
      <segtitle>Bibliotecas Instaladas</segtitle>
      <segtitle>Diretórios Instalados</segtitle>

      <seglistitem>
        <seg>
          dvisvgm
        </seg>
        <seg>
          None
        </seg>
        <seg>
          None
        </seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descrições Curtas</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="dvisvgm-prog">
        <term><command>dvisvgm</command></term>
        <listitem>
          <para>
            converts DVI, EPS and PDF files to the SVG format
          </para>
          <indexterm zone="dvisvgm dvisvgm-prog">
            <primary sortas="b-dvisvgm">dvisvgm</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>
  </sect2>

</sect1>
