<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;

<!--  <!ENTITY which-download-http "http://www.xs4all.nl/~carlo17/which/which-&which-version;.tar.gz">-->

  <!ENTITY which-download-http "&gnu-http;/which/which-&which-version;.tar.gz">
  <!ENTITY which-download-ftp  "&gnu-ftp;/which/which-&which-version;.tar.gz">
  <!ENTITY which-md5sum        "097ff1a324ae02e0a3b0369f07a7544a">
  <!ENTITY which-size          "148Ko">
  <!ENTITY which-buildsize     "1Mo">
  <!ENTITY which-time          "menos que 0,1UPC">
]>

<sect1 id="which" xreflabel="Which-&which-version;">
  <?dbhtml filename="which.html"?>


  <title>Which-&which-version; and Alternatives</title>

  <para>
    The presence or absence of the <command>which</command> program in the main
LFS book is probably one of the most contentious issues on the mailing
lists. It has resulted in at least one flame war in the past. To hopefully
put an end to this once and for all, presented here are two options for
equipping your system with <command>which</command>. The question of which
<quote><command>which</command></quote> is for you to decide.
  </para>

  <indexterm zone="which">
    <primary sortas="a-Which">Which</primary>
  </indexterm>

  <sect2 role="package">
    <title>Introdução a GNU Which</title>

    <para>
      The first option is to install the actual GNU
<application>which</application> package.
    </para>

    &lfs113_checked;

    <bridgehead renderas="sect3">Informação do Pacote</bridgehead>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Transferência (HTTP): <ulink url="&which-download-http;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Transferência (FTP): <ulink url="&which-download-ftp;"/>
        </para>
      </listitem>
      <listitem>
        <para>
          Soma de verificação MD5: &which-md5sum;
        </para>
      </listitem>
      <listitem>
        <para>
          Tamanho da transferência: &which-size;
        </para>
      </listitem>
      <listitem>
        <para>
          Espaço em disco estimado exigido: &which-buildsize;
        </para>
      </listitem>
      <listitem>
        <para>
          Tempo de construção estimado: &which-time;
        </para>
      </listitem>
    </itemizedlist>

    <para condition="html" role="usernotes">Observações de Usuário(a): <ulink url="&blfs-wiki;/which"/></para>

  </sect2>

  <sect2 role="installation">
    <title>Instalação de Which</title>

    <para>
      Instale <application>which</application> executando os seguintes comandos:
    </para>

<screen><userinput>./configure --prefix=/usr &amp;&amp;
make</userinput></screen>

    <para>
      Esse pacote não vem com uma suíte de teste.
    </para>

    <para>
      Agora, como o(a) usuário(a) <systemitem class="username">root</systemitem>:
    </para>

<screen role="root"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title>Contents</title>

    <segmentedlist>
      <segtitle>Aplicativo Instalado</segtitle>
      <segtitle>Bibliotecas Instaladas</segtitle>
      <segtitle>Diretórios Instalados</segtitle>

      <seglistitem>
        <seg>which</seg>
        <seg>None</seg>
        <seg>None</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Descrições Curtas</bridgehead>
      <?dbfo list-presentation="list"?> <?dbhtml list-presentation="table"?>

      <varlistentry id="which-prog">
        <term><command>which</command></term>
        <listitem>
          <para>
            shows the full path of (shell) commands installed in your
<envar>PATH</envar>
          </para>
          <indexterm zone="which which-prog">
            <primary sortas="b-which">which</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

  <sect2 role="installation">
    <title>The 'which' Script</title>

    <para>
      The second option (for those who don't want to install the package)  is to
create a simple script (execute as the <systemitem
class="username">root</systemitem> user):
    </para>

<screen role="root"><userinput>cat &gt; /usr/bin/which &lt;&lt; "EOF"
<literal>#!/bin/bash
type -pa "$@" | head -n 1 ; exit ${PIPESTATUS[0]}</literal>
EOF
chmod -v 755 /usr/bin/which
chown -v root:root /usr/bin/which</userinput></screen>

    <para>
      This should work OK and is probably the easiest solution for most cases, but
is not the most comprehensive implementation.
    </para>

  </sect2>

</sect1>
